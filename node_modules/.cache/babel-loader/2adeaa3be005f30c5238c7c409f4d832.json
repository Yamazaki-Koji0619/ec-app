{"ast":null,"code":"import { signInAction } from \"./actions\";\nimport { push } from 'connected-react-router';\nexport const signIn = () => {\n  return async (dispatch, getState) => {\n    const state = getState();\n    const isSignedIn = state.users.isSignesIn;\n\n    if (!isSignedIn) {\n      const url = 'https://api.github.com/users/deatiger';\n      const response = await fetch(url).then(res => res.json()).catch(() => null);\n      const username = response.login;\n      despatch(signInAction({\n        isSignedIn: true,\n        uid: \"0001\",\n        username: username\n      }));\n      dispatch(push('/'));\n    }\n  };\n};","map":{"version":3,"sources":["/Users/yamazakikouji/Desktop/ec-app/src/redux/users/operations.js"],"names":["signInAction","push","signIn","dispatch","getState","state","isSignedIn","users","isSignesIn","url","response","fetch","then","res","json","catch","username","login","despatch","uid"],"mappings":"AAAA,SAASA,YAAT,QAA6B,WAA7B;AACA,SAASC,IAAT,QAAqB,wBAArB;AAGA,OAAO,MAAMC,MAAM,GAAG,MAAM;AACxB,SAAO,OAAMC,QAAN,EAAgBC,QAAhB,KAA6B;AAChC,UAAMC,KAAK,GAAGD,QAAQ,EAAtB;AACA,UAAME,UAAU,GAAGD,KAAK,CAACE,KAAN,CAAYC,UAA/B;;AAEA,QAAG,CAACF,UAAJ,EAAe;AACX,YAAMG,GAAG,GAAG,uCAAZ;AAEA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAL,CACFG,IADE,CACGC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADV,EAEFC,KAFE,CAEI,MAAM,IAFV,CAAvB;AAIA,YAAMC,QAAQ,GAAGN,QAAQ,CAACO,KAA1B;AAEAC,MAAAA,QAAQ,CAAClB,YAAY,CAAC;AAClBM,QAAAA,UAAU,EAAE,IADM;AAElBa,QAAAA,GAAG,EAAE,MAFa;AAGlBH,QAAAA,QAAQ,EAAEA;AAHQ,OAAD,CAAb,CAAR;AAKAb,MAAAA,QAAQ,CAACF,IAAI,CAAC,GAAD,CAAL,CAAR;AACH;AACJ,GApBD;AAqBH,CAtBM","sourcesContent":["import { signInAction } from \"./actions\";\nimport { push } from 'connected-react-router';\n\n\nexport const signIn = () => {\n    return async(dispatch, getState) => {\n        const state = getState();\n        const isSignedIn = state.users.isSignesIn;\n\n        if(!isSignedIn){\n            const url = 'https://api.github.com/users/deatiger';\n\n            const response = await fetch(url)\n                                .then(res => res.json())\n                                .catch(() => null)\n\n            const username = response.login\n\n            despatch(signInAction({\n                isSignedIn: true,\n                uid: \"0001\",\n                username: username\n            }))\n            dispatch(push('/'))\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}