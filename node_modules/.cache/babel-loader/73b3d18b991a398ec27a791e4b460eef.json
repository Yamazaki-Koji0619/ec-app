{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yamazakikouji/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yamazakikouji/Desktop/ec-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{signInAction,signOutAction,fetchProductsInCartAction,fetchProductsInLikeAction,fetchOrdersHistoryAction}from\"./actions\";import{push}from'connected-react-router';import{auth,db,FirebaseTimestamp}from'../../firebase/index';export var addProductToCart=function addProductToCart(addedProduct){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var uid,cartRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:uid=getState().users.uid;cartRef=db.collection('users').doc(uid).collection('cart').doc();addedProduct['cartId']=cartRef.id;_context.next=5;return cartRef.set(addedProduct);case 5:dispatch(push('/'));case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var addProductToLike=function addProductToLike(addedProduct){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var uid,likeRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:uid=getState().users.uid;likeRef=db.collection('users').doc(uid).collection('like').doc();addedProduct['likeId']=likeRef.id;_context2.next=5;return likeRef.set(addedProduct);case 5:dispatch(push('/'));case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var fetchOrdersHistory=function fetchOrdersHistory(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var uid,list;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:uid=getState().users.uid;list=[];db.collection('users').doc(uid).collection('orders').orderBy('updated_at','desc').get().then(function(snapshots){snapshots.forEach(function(snapshot){var data=snapshot.data();list.push(data);});dispatch(fetchOrdersHistoryAction(list));});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var fetchProductsInCart=function fetchProductsInCart(products){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(fetchProductsInCartAction(products));case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7){return _ref4.apply(this,arguments);};}();};export var fetchProductsInLike=function fetchProductsInLike(products){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch(fetchProductsInLikeAction(products));case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x8){return _ref5.apply(this,arguments);};}();};export var listenAuthState=function listenAuthState(){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt(\"return\",auth.onAuthStateChanged(function(user){if(user){var uid=user.uid;db.collection('users').doc(uid).get().then(function(snapshot){var data=snapshot.data();dispatch(signInAction({isSignedIn:true,role:data.role,uid:uid,username:data.username}));});}else{dispatch(push('/signin'));}}));case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x9){return _ref6.apply(this,arguments);};}();};export var resetPassword=function resetPassword(email){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(email===\"\")){_context7.next=5;break;}alert(\"必須項目が未入力です\");return _context7.abrupt(\"return\",false);case 5:auth.sendPasswordResetEmail(email).then(function(){alert('入力されたアドレスにパスワードリセット用のメールを送信しました。');dispatch(push('/signin'));}).catch(function(){alert('パスワードリセットに失敗しました。通信を確認してもう一度お試しください。');});case 6:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x10){return _ref7.apply(this,arguments);};}();};export var signIn=function signIn(email,password){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!(email===\"\"||password===\"\")){_context8.next=3;break;}alert(\"必須項目が未入力です\");return _context8.abrupt(\"return\",false);case 3:auth.signInWithEmailAndPassword(email,password).then(function(result){var user=result.user;if(user){var uid=user.uid;db.collection('users').doc(uid).get().then(function(snapshot){var data=snapshot.data();dispatch(signInAction({isSignedIn:true,role:data.role,uid:uid,username:data.username}));dispatch(push('/'));});}});case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x11){return _ref8.apply(this,arguments);};}();};export var signUp=function signUp(username,email,password,confirmpassword){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(username===\"\"||email===\"\"||password===\"\"||confirmpassword===\"\")){_context9.next=3;break;}alert(\"必須項目が未入力です\");return _context9.abrupt(\"return\",false);case 3:if(!(password!==confirmpassword)){_context9.next=6;break;}alert(\"パスワードが一致しません。もう一度お試しください。\");return _context9.abrupt(\"return\",false);case 6:return _context9.abrupt(\"return\",auth.createUserWithEmailAndPassword(email,password).then(function(result){var user=result.user;if(user){var uid=user.uid;var timestamp=FirebaseTimestamp.now();var userInitialData={create_at:timestamp,email:email,role:\"customer\",uid:uid,updated_at:timestamp,username:username};db.collection('users').doc(uid).set(userInitialData).then(function(){dispatch(push('/'));});}}));case 7:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x12){return _ref9.apply(this,arguments);};}();};export var signOut=function signOut(){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:auth.signOut().then(function(){dispatch(signOutAction());dispatch(push('/signin'));});case 1:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x13){return _ref10.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/yamazakikouji/Desktop/ec-app/src/redux/users/operations.js"],"names":["signInAction","signOutAction","fetchProductsInCartAction","fetchProductsInLikeAction","fetchOrdersHistoryAction","push","auth","db","FirebaseTimestamp","addProductToCart","addedProduct","dispatch","getState","uid","users","cartRef","collection","doc","id","set","addProductToLike","likeRef","fetchOrdersHistory","list","orderBy","get","then","snapshots","forEach","snapshot","data","fetchProductsInCart","products","fetchProductsInLike","listenAuthState","onAuthStateChanged","user","isSignedIn","role","username","resetPassword","email","alert","sendPasswordResetEmail","catch","signIn","password","signInWithEmailAndPassword","result","signUp","confirmpassword","createUserWithEmailAndPassword","timestamp","now","userInitialData","create_at","updated_at","signOut"],"mappings":"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","sourcesContent":["import { signInAction, signOutAction, fetchProductsInCartAction, fetchProductsInLikeAction, fetchOrdersHistoryAction } from \"./actions\";\nimport { push } from 'connected-react-router';\nimport { auth, db, FirebaseTimestamp } from '../../firebase/index';\n\nexport const addProductToCart = (addedProduct) => {\n    return async(dispatch,getState) => {\n        const uid = getState().users.uid;\n        const cartRef = db.collection('users').doc(uid).collection('cart').doc();\n        addedProduct['cartId'] = cartRef.id;\n        await cartRef.set(addedProduct)\n        dispatch(push('/'))\n    }\n} \n\nexport const addProductToLike = (addedProduct) => {\n    return async(dispatch,getState) => {\n        const uid = getState().users.uid;\n        const likeRef = db.collection('users').doc(uid).collection('like').doc();\n        addedProduct['likeId'] = likeRef.id;\n        await likeRef.set(addedProduct)\n        dispatch(push('/'))\n    }\n} \n\nexport const fetchOrdersHistory = () => {\n    return async(dispatch, getState) => {\n        const uid = getState().users.uid;\n        const list = [];\n\n        db.collection('users').doc(uid).collection('orders').orderBy('updated_at', 'desc').get()\n            .then((snapshots) => {\n                snapshots.forEach(snapshot => {\n                    const data = snapshot.data()\n                    list.push(data)\n                })\n\n                dispatch(fetchOrdersHistoryAction(list))\n            })\n    }\n}\n\nexport const fetchProductsInCart = (products) => {\n    return async(dispatch) => {\n        dispatch(fetchProductsInCartAction(products))\n    }\n}\n\nexport const fetchProductsInLike = (products) => {\n    return async(dispatch) => {\n        dispatch(fetchProductsInLikeAction(products))\n    }\n}\n\nexport const listenAuthState = () => {\n    return async(dispatch) => {\n        return auth.onAuthStateChanged(user => {\n            if(user){\n                const uid = user.uid\n                    \n                db.collection('users').doc(uid).get()\n                    .then(snapshot => {\n                        const data = snapshot.data()\n\n                        dispatch(signInAction({\n                            isSignedIn: true,\n                            role: data.role,\n                            uid: uid,\n                            username: data.username\n                        }))\n                    })\n            }else{\n                dispatch(push('/signin'))\n            }\n        })\n    }\n}\n\nexport const resetPassword = (email) => {\n    return async(dispatch) => {\n        if(email === \"\"){\n            alert(\"必須項目が未入力です\")\n            return false\n        }else{\n            auth.sendPasswordResetEmail(email)\n                .then(() => {\n                    alert('入力されたアドレスにパスワードリセット用のメールを送信しました。')\n                    dispatch(push('/signin'))\n                }).catch(() => {\n                    alert('パスワードリセットに失敗しました。通信を確認してもう一度お試しください。')\n                })\n        }\n    }\n}\n\n\nexport const signIn = (email, password) => {\n    return async(dispatch) => {\n        if(email === \"\" || password === \"\"){\n            alert(\"必須項目が未入力です\")\n            return false\n        }\n        \n        auth.signInWithEmailAndPassword(email, password)\n            .then(result => {\n                const user = result.user\n\n                if(user){\n                    const uid = user.uid\n                    \n                    db.collection('users').doc(uid).get()\n                        .then(snapshot => {\n                            const data = snapshot.data()\n\n                            dispatch(signInAction({\n                                isSignedIn: true,\n                                role: data.role,\n                                uid: uid,\n                                username: data.username\n                            }))\n\n                            dispatch(push('/'))\n                        })\n                }\n            })\n    }\n}\n\nexport const signUp = (username, email, password, confirmpassword) => {\n    return async (dispatch) => {\n        if(username === \"\" || email === \"\" || password === \"\" || confirmpassword === \"\"){\n            alert(\"必須項目が未入力です\")\n            return false\n        }\n\n        if(password !== confirmpassword){\n            alert(\"パスワードが一致しません。もう一度お試しください。\")\n            return false\n        }\n\n        return auth.createUserWithEmailAndPassword(email, password)\n            .then(result => {\n                const user = result.user\n\n                if(user){\n                    const uid = user.uid\n                    const timestamp = FirebaseTimestamp.now()\n\n                    const userInitialData = {\n                        create_at: timestamp,\n                        email: email,\n                        role: \"customer\",\n                        uid: uid,\n                        updated_at: timestamp,\n                        username: username\n                    }\n\n                    db.collection('users').doc(uid).set(userInitialData)\n                        .then(() => {\n                            dispatch(push('/'))\n                        })\n                }\n            })\n    }\n}\n\nexport const signOut = () => {\n    return async(dispatch) => {\n        auth.signOut()\n            .then(() => {\n                dispatch(signOutAction())\n                dispatch(push('/signin'))\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}