{"ast":null,"code":"var _jsxFileName = \"/Users/yamazakikouji/Desktop/ec-app/src/templates/ProductDetail.jsx\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { db, FirebaseTimestamp } from '../firebase';\nimport { makeStyles } from '@material-ui/styles';\nimport HTMLReactParser from 'html-react-parser';\nimport { ImageSwiper, SizeTable } from '../components/Products';\nconst useStyles = makeStyles(theme => ({\n  sliderBox: {\n    [theme.breakpoints.down('sm')]: {\n      margin: '0 auto 24px auto',\n      height: 320,\n      width: 320\n    },\n    [theme.breakpoints.up('md')]: {\n      margin: '0 auto',\n      height: 400,\n      width: 400\n    }\n  },\n  detail: {\n    textAlign: 'left',\n    [theme.breakpoints.down('sm')]: {\n      margin: '0 auto 16px auto',\n      height: 320,\n      width: 320\n    },\n    [theme.breakpoints.up('md')]: {\n      margin: '0 auto',\n      height: 'auto',\n      width: 400\n    }\n  },\n  price: {\n    fontSize: 36\n  }\n}));\n\nconst returnCodeToBr = text => {\n  if (text === \"\") {\n    return text;\n  } else {\n    return HTMLReactParser(text.replace(/\\r?\\n/g, '<br/>'));\n  }\n};\n\nconst ProductDetail = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const selector = useSelector(state => state);\n  const path = selector.router.location.pathname;\n  const id = path.split('/product/')[1];\n  const [product, setProduct] = useState(null);\n  useEffect(() => {\n    db.collection('products').doc(id).get().then(doc => {\n      const data = doc.data();\n      setProduct(data);\n    });\n  }, []);\n  const addProduct = useCallback(selectedSize => {\n    const timestamp = FirebaseTimestamp.now();\n    dispatch(addProductCart({\n      added_at: timestamp,\n      discription: product.discription,\n      gender: product.gender,\n      images: product.images,\n      name: product.images,\n      price: product.price,\n      productId: product.id,\n      quantity: 1,\n      size: selectedSize\n    }));\n  }, [product]);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"c-section-wrapin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, product && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.sliderBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ImageSwiper, {\n    images: product.images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.detail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"u-text__headline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, product.price.toLocaleString()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"module-spacer--small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(SizeTable, {\n    addProduct: addProduct,\n    sizes: product.sizes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"module-spacer--small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, returnCodeToBr(product.discription)))));\n};\n\nexport default ProductDetail;","map":{"version":3,"sources":["/Users/yamazakikouji/Desktop/ec-app/src/templates/ProductDetail.jsx"],"names":["React","useState","useEffect","useCallback","useSelector","useDispatch","db","FirebaseTimestamp","makeStyles","HTMLReactParser","ImageSwiper","SizeTable","useStyles","theme","sliderBox","breakpoints","down","margin","height","width","up","detail","textAlign","price","fontSize","returnCodeToBr","text","replace","ProductDetail","classes","dispatch","selector","state","path","router","location","pathname","id","split","product","setProduct","collection","doc","get","then","data","addProduct","selectedSize","timestamp","now","addProductCart","added_at","discription","gender","images","name","productId","quantity","size","toLocaleString","sizes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { db, FirebaseTimestamp } from '../firebase';\nimport { makeStyles } from '@material-ui/styles';\nimport HTMLReactParser from 'html-react-parser';\nimport { ImageSwiper, SizeTable } from '../components/Products';\n\nconst useStyles = makeStyles((theme) => ({\n    sliderBox: {\n        [theme.breakpoints.down('sm')]: {\n            margin: '0 auto 24px auto',\n            height: 320,\n            width: 320\n        },\n        [theme.breakpoints.up('md')]: {\n            margin: '0 auto',\n            height: 400,\n            width: 400\n        },\n    },\n    detail: {\n        textAlign: 'left',\n        [theme.breakpoints.down('sm')]: {\n            margin: '0 auto 16px auto',\n            height: 320,\n            width: 320\n        },\n        [theme.breakpoints.up('md')]: {\n            margin: '0 auto',\n            height: 'auto',\n            width: 400\n        },\n    },\n    price: {\n        fontSize: 36\n    }\n}))\n\nconst returnCodeToBr = (text) => {\n    if(text === \"\"){\n        return text\n    }else{\n        return HTMLReactParser(text.replace(/\\r?\\n/g, '<br/>'))\n    }\n};\n\n\nconst ProductDetail = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const selector = useSelector((state) => state);\n    const path = selector.router.location.pathname;\n    const id = path.split('/product/')[1];\n\n    const [product, setProduct] = useState(null);\n\n    useEffect(() => {\n        db.collection('products').doc(id).get()\n            .then(doc => {\n                const data = doc.data()\n                setProduct(data)\n            })\n    },[])\n\n    const addProduct = useCallback((selectedSize) => {\n        const timestamp = FirebaseTimestamp.now();\n        dispatch(addProductCart({\n            added_at: timestamp,\n            discription: product.discription,\n            gender: product.gender,\n            images: product.images,\n            name: product.images,\n            price: product.price,\n            productId: product.id,\n            quantity: 1,\n            size: selectedSize,\n        }))\n    },[product])\n\n    return(\n        <section className=\"c-section-wrapin\">\n            {product && (\n                <div className=\"p-grid__row\">\n                    <div className={classes.sliderBox}>\n                        <ImageSwiper images={product.images} />\n                    </div>\n                    <div className={classes.detail}>\n                        <h2 className=\"u-text__headline\">{product.name}</h2>\n                        <p className={classes.price}>{product.price.toLocaleString()}</p>\n                        <div className=\"module-spacer--small\" />\n                        <SizeTable addProduct={addProduct} sizes={product.sizes} />\n                        <div className=\"module-spacer--small\" />\n                        <p>{returnCodeToBr(product.discription)}</p>\n                    </div>\n                </div>\n            )}\n        </section>\n    )\n};\n\nexport default ProductDetail;"]},"metadata":{},"sourceType":"module"}