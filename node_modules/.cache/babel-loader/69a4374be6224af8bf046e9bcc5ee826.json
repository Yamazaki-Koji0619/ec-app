{"ast":null,"code":"import React,{useEffect}from'react';import{ProductCard}from'../components/Products';import{useDispatch,useSelector}from'react-redux';import{fetchProducts}from'../redux/products/operations';import{getProducts,getKeyword}from'../redux/products/selector';var ProductList=function ProductList(){var dispatch=useDispatch();var selector=useSelector(function(state){return state;});var products=getProducts(selector);var keyword=getKeyword(selector);var query=selector.router.location.search;var gender=/^\\?gender=/.test(query)?query.split('?gender=')[1]:\"\";var category=/^\\?category=/.test(query)?query.split('?category=')[1]:\"\";useEffect(function(){dispatch(fetchProducts(gender,category));},[query,dispatch]);var filters=products.filter(function(product){if(product.name.indexOf(keyword)>-1){return product;}});return/*#__PURE__*/React.createElement(\"section\",{className:\"c-section-wrapin\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-grid__row\"},filters.map(function(filter){return/*#__PURE__*/React.createElement(ProductCard,{key:filter.id,id:filter.id,name:filter.name,images:filter.images,price:filter.price});})));};export default ProductList;","map":{"version":3,"sources":["/Users/yamazakikouji/Desktop/ec-app/src/templates/ProductList.jsx"],"names":["React","useEffect","ProductCard","useDispatch","useSelector","fetchProducts","getProducts","getKeyword","ProductList","dispatch","selector","state","products","keyword","query","router","location","search","gender","test","split","category","filters","filter","product","name","indexOf","map","id","images","price"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,8BAA9B,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,4BAAxC,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,QAAQ,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAA5B,CACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,CAACI,QAAD,CAA5B,CACA,GAAMG,CAAAA,OAAO,CAAGN,UAAU,CAACG,QAAD,CAA1B,CAEA,GAAMI,CAAAA,KAAK,CAAGJ,QAAQ,CAACK,MAAT,CAAgBC,QAAhB,CAAyBC,MAAvC,CACA,GAAMC,CAAAA,MAAM,CAAG,aAAaC,IAAb,CAAkBL,KAAlB,EAA2BA,KAAK,CAACM,KAAN,CAAY,UAAZ,EAAwB,CAAxB,CAA3B,CAAwD,EAAvE,CACA,GAAMC,CAAAA,QAAQ,CAAG,eAAeF,IAAf,CAAoBL,KAApB,EAA6BA,KAAK,CAACM,KAAN,CAAY,YAAZ,EAA0B,CAA1B,CAA7B,CAA4D,EAA7E,CAEAnB,SAAS,CAAC,UAAM,CACZQ,QAAQ,CAACJ,aAAa,CAACa,MAAD,CAASG,QAAT,CAAd,CAAR,CACH,CAFQ,CAEP,CAACP,KAAD,CAAQL,QAAR,CAFO,CAAT,CAIA,GAAMa,CAAAA,OAAO,CAAGV,QAAQ,CAACW,MAAT,CAAgB,SAACC,OAAD,CAAa,CACzC,GAAGA,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqBb,OAArB,EAAgC,CAAC,CAApC,CAAsC,CAClC,MAAOW,CAAAA,OAAP,CACH,CACJ,CAJe,CAAhB,CAMA,mBACI,+BAAS,SAAS,CAAC,kBAAnB,eACI,2BAAK,SAAS,CAAC,aAAf,EACKF,OAAO,CAACK,GAAR,CAAY,SAAAJ,MAAM,qBACf,oBAAC,WAAD,EACA,GAAG,CAAEA,MAAM,CAACK,EADZ,CACgB,EAAE,CAAEL,MAAM,CAACK,EAD3B,CAC+B,IAAI,CAAEL,MAAM,CAACE,IAD5C,CAEA,MAAM,CAAEF,MAAM,CAACM,MAFf,CAEuB,KAAK,CAAEN,MAAM,CAACO,KAFrC,EADe,EAAlB,CADL,CADJ,CADJ,CAYH,CAhCD,CAkCA,cAAetB,CAAAA,WAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { ProductCard } from '../components/Products';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProducts } from '../redux/products/operations';\nimport { getProducts, getKeyword } from '../redux/products/selector';\n\nconst ProductList = () => {\n    const dispatch = useDispatch();\n    const selector = useSelector((state) => state);\n    const products = getProducts(selector);\n    const keyword = getKeyword(selector);\n\n    const query = selector.router.location.search;\n    const gender = /^\\?gender=/.test(query) ? query.split('?gender=')[1] : \"\";\n    const category = /^\\?category=/.test(query) ? query.split('?category=')[1] : \"\";\n\n    useEffect(() => {\n        dispatch(fetchProducts(gender, category))\n    },[query, dispatch]);\n\n    const filters = products.filter((product) => {\n        if(product.name.indexOf(keyword) > -1){\n            return product\n        }\n    });\n\n    return(\n        <section className=\"c-section-wrapin\">\n            <div className=\"p-grid__row\">\n                {filters.map(filter => (\n                    <ProductCard\n                    key={filter.id} id={filter.id} name={filter.name}\n                    images={filter.images} price={filter.price}    \n                />\n                ))}\n            </div>\n        </section>\n    )\n};\n\nexport default ProductList"]},"metadata":{},"sourceType":"module"}