{"ast":null,"code":"var _jsxFileName = \"/Users/yamazakikouji/Desktop/ec-app/src/templates/ProductEdit.jsx\";\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { SelectBox, TextInput, PrimaryButton } from '../components/UIkit';\nimport { useDispatch } from 'react-redux';\nimport { saveProduct } from '../redux/products/operations';\nimport ImageArea from '../components/Products/imageArea';\nimport { db } from '../firebase/index';\nimport SetSizeArea from '../components/Products/SetSizeArea';\n\nconst ProductEdit = () => {\n  const dispatch = useDispatch();\n  let id = window.location.pathname.split('/product/edit')[1];\n\n  if (id !== \"\") {\n    id = id.split('/')[1];\n  }\n\n  const [name, setName] = useState(\"\"),\n        [description, setDiscription] = useState(\"\"),\n        [category, setCategory] = useState(\"\"),\n        [gender, setGender] = useState(\"\"),\n        [price, setPrice] = useState(\"\"),\n        [images, setImages] = useState([])[(sizes, setSizes)] = useState([]);\n  const InputName = useCallback(event => {\n    setName(event.target.value);\n  }, [setName]);\n  const InputDiscription = useCallback(event => {\n    setDiscription(event.target.value);\n  }, [setDiscription]);\n  const InputPrice = useCallback(event => {\n    setPrice(event.target.value);\n  }, [setPrice]);\n  const categoies = [{\n    id: \"tops\",\n    name: \"トップス\"\n  }, {\n    id: \"shirt\",\n    name: \"シャツ\"\n  }, {\n    id: \"pants\",\n    name: \"パンツ\"\n  }];\n  const genders = [{\n    id: \"all\",\n    name: \"すべて\"\n  }, {\n    id: \"male\",\n    name: \"メンズ\"\n  }, {\n    id: \"female\",\n    name: \"レディース\"\n  }];\n  useEffect(() => {\n    if (id !== \"\") {\n      db.collection('products').doc(id).get().then(snapshot => {\n        const data = snapshot.data();\n        setImages(data.images);\n        setName(data.name);\n        setDiscription(data.discription);\n        setCategory(data.category);\n        setGender(data.gender);\n        setPrice(data.price);\n      });\n    }\n  }, [id]);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"u-text__headline u-text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"\\u5546\\u54C1\\u306E\\u767B\\u9332\\u3068\\u7DE8\\u96C6\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c-section-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ImageArea, {\n    images: images,\n    setImages: setImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    fullWidth: true,\n    label: \"商品名\",\n    multiline: false,\n    required: true,\n    rows: 1,\n    value: name,\n    type: \"text\",\n    onChange: InputName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    fullWidth: true,\n    label: \"商品説明\",\n    multiline: true,\n    required: true,\n    rows: 5,\n    value: description,\n    type: \"text\",\n    onChange: InputDiscription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(SelectBox, {\n    label: \"カテゴリー\",\n    required: true,\n    options: categoies,\n    select: setCategory,\n    value: category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(SelectBox, {\n    label: \"性別\",\n    required: true,\n    options: genders,\n    select: setGender,\n    value: gender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    fullWidth: true,\n    label: \"価格\",\n    multiline: false,\n    required: true,\n    rows: 1,\n    value: price,\n    type: \"number\",\n    onChange: InputPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"module-spacer--small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(SetSizeArea, {\n    sizes: sizes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"module-spacer--small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryButton, {\n    label: \"商品情報を保存\",\n    onClick: () => dispatch(saveProduct(id, name, description, category, gender, price, images)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ProductEdit;","map":{"version":3,"sources":["/Users/yamazakikouji/Desktop/ec-app/src/templates/ProductEdit.jsx"],"names":["React","useCallback","useState","useEffect","SelectBox","TextInput","PrimaryButton","useDispatch","saveProduct","ImageArea","db","SetSizeArea","ProductEdit","dispatch","id","window","location","pathname","split","name","setName","description","setDiscription","category","setCategory","gender","setGender","price","setPrice","images","setImages","sizes","setSizes","InputName","event","target","value","InputDiscription","InputPrice","categoies","genders","collection","doc","get","then","snapshot","data","discription"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,aAA/B,QAAoD,qBAApD;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,SAASC,EAAT,QAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACtB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,MAAIO,EAAE,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,eAA/B,EAAgD,CAAhD,CAAT;;AAEA,MAAGJ,EAAE,KAAK,EAAV,EAAa;AACTA,IAAAA,EAAE,GAAGA,EAAE,CAACI,KAAH,CAAS,GAAT,EAAc,CAAd,CAAL;AACH;;AAED,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,EAAD,CAAhC;AAAA,QACM,CAACmB,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAAC,EAAD,CAD9C;AAAA,QAEM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,EAAD,CAFxC;AAAA,QAGM,CAACuB,MAAD,EAASC,SAAT,IAAsBxB,QAAQ,CAAC,EAAD,CAHpC;AAAA,QAIM,CAACyB,KAAD,EAAQC,QAAR,IAAoB1B,QAAQ,CAAC,EAAD,CAJlC;AAAA,QAKM,CAAC2B,MAAD,EAASC,SAAT,IAAsB5B,QAAQ,CAAC,EAAD,CAAR,EACrB6B,KAAK,EAAEC,QADc,KACF9B,QAAQ,CAAC,EAAD,CANlC;AAQA,QAAM+B,SAAS,GAAGhC,WAAW,CAAEiC,KAAD,IAAW;AACrCd,IAAAA,OAAO,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACH,GAF4B,EAE3B,CAAChB,OAAD,CAF2B,CAA7B;AAIA,QAAMiB,gBAAgB,GAAGpC,WAAW,CAAEiC,KAAD,IAAW;AAC5CZ,IAAAA,cAAc,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd;AACH,GAFmC,EAElC,CAACd,cAAD,CAFkC,CAApC;AAIA,QAAMgB,UAAU,GAAGrC,WAAW,CAAEiC,KAAD,IAAW;AACtCN,IAAAA,QAAQ,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH,GAF6B,EAE5B,CAACR,QAAD,CAF4B,CAA9B;AAIA,QAAMW,SAAS,GAAG,CACd;AAACzB,IAAAA,EAAE,EAAC,MAAJ;AAAYK,IAAAA,IAAI,EAAC;AAAjB,GADc,EAEd;AAACL,IAAAA,EAAE,EAAC,OAAJ;AAAaK,IAAAA,IAAI,EAAC;AAAlB,GAFc,EAGd;AAACL,IAAAA,EAAE,EAAC,OAAJ;AAAaK,IAAAA,IAAI,EAAC;AAAlB,GAHc,CAAlB;AAMA,QAAMqB,OAAO,GAAG,CACZ;AAAC1B,IAAAA,EAAE,EAAC,KAAJ;AAAWK,IAAAA,IAAI,EAAC;AAAhB,GADY,EAEZ;AAACL,IAAAA,EAAE,EAAC,MAAJ;AAAYK,IAAAA,IAAI,EAAC;AAAjB,GAFY,EAGZ;AAACL,IAAAA,EAAE,EAAC,QAAJ;AAAcK,IAAAA,IAAI,EAAC;AAAnB,GAHY,CAAhB;AAMAhB,EAAAA,SAAS,CAAC,MAAM;AACb,QAAGW,EAAE,KAAK,EAAV,EAAa;AACTJ,MAAAA,EAAE,CAAC+B,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B5B,EAA9B,EAAkC6B,GAAlC,GACMC,IADN,CACWC,QAAQ,IAAI;AACd,cAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAT,EAAb;AACAhB,QAAAA,SAAS,CAACgB,IAAI,CAACjB,MAAN,CAAT;AACAT,QAAAA,OAAO,CAAC0B,IAAI,CAAC3B,IAAN,CAAP;AACAG,QAAAA,cAAc,CAACwB,IAAI,CAACC,WAAN,CAAd;AACAvB,QAAAA,WAAW,CAACsB,IAAI,CAACvB,QAAN,CAAX;AACAG,QAAAA,SAAS,CAACoB,IAAI,CAACrB,MAAN,CAAT;AACAG,QAAAA,QAAQ,CAACkB,IAAI,CAACnB,KAAN,CAAR;AACH,OATN;AAUH;AACH,GAbQ,EAaP,CAACb,EAAD,CAbO,CAAT;AAeA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,gCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADJ,eAEI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,MAAM,EAAEe,MAAnB;AAA2B,IAAA,SAAS,EAAEC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAE,IADf;AACqB,IAAA,KAAK,EAAE,KAD5B;AACmC,IAAA,SAAS,EAAE,KAD9C;AACqD,IAAA,QAAQ,EAAE,IAD/D;AAEI,IAAA,IAAI,EAAE,CAFV;AAEa,IAAA,KAAK,EAAEX,IAFpB;AAE0B,IAAA,IAAI,EAAE,MAFhC;AAEwC,IAAA,QAAQ,EAAEc,SAFlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAMI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAE,IADf;AACqB,IAAA,KAAK,EAAE,MAD5B;AACoC,IAAA,SAAS,EAAE,IAD/C;AACqD,IAAA,QAAQ,EAAE,IAD/D;AAEI,IAAA,IAAI,EAAE,CAFV;AAEa,IAAA,KAAK,EAAEZ,WAFpB;AAEiC,IAAA,IAAI,EAAE,MAFvC;AAE+C,IAAA,QAAQ,EAAEgB,gBAFzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,eAUI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAE,OADX;AACoB,IAAA,QAAQ,EAAE,IAD9B;AACoC,IAAA,OAAO,EAAEE,SAD7C;AACwD,IAAA,MAAM,EAAEf,WADhE;AAC6E,IAAA,KAAK,EAAED,QADpF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAaI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAE,IADX;AACiB,IAAA,QAAQ,EAAE,IAD3B;AACiC,IAAA,OAAO,EAAEiB,OAD1C;AACmD,IAAA,MAAM,EAAEd,SAD3D;AACsE,IAAA,KAAK,EAAED,MAD7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,eAgBI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAE,IADf;AACqB,IAAA,KAAK,EAAE,IAD5B;AACkC,IAAA,SAAS,EAAE,KAD7C;AACoD,IAAA,QAAQ,EAAE,IAD9D;AAEI,IAAA,IAAI,EAAE,CAFV;AAEa,IAAA,KAAK,EAAEE,KAFpB;AAE2B,IAAA,IAAI,EAAE,QAFjC;AAE2C,IAAA,QAAQ,EAAEW,UAFrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,eAoBI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBJ,eAqBI,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAEP,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBJ,eAsBI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,eAuBI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AACI,IAAA,KAAK,EAAE,SADX;AACsB,IAAA,OAAO,EAAE,MAAMlB,QAAQ,CAACL,WAAW,CAACM,EAAD,EAAKK,IAAL,EAAWE,WAAX,EAAwBE,QAAxB,EAAkCE,MAAlC,EAA0CE,KAA1C,EAAiDE,MAAjD,CAAZ,CAD7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAvBJ,CAFJ,CADJ;AAkCH,CAzFD;;AA2FA,eAAejB,WAAf","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport { SelectBox, TextInput, PrimaryButton } from '../components/UIkit';\nimport { useDispatch } from 'react-redux';\nimport { saveProduct } from '../redux/products/operations';\nimport ImageArea from '../components/Products/imageArea'; \nimport { db } from '../firebase/index';\nimport SetSizeArea from '../components/Products/SetSizeArea';\n\nconst ProductEdit = () => {\n    const dispatch = useDispatch();\n    let id = window.location.pathname.split('/product/edit')[1];\n\n    if(id !== \"\"){\n        id = id.split('/')[1];\n    }\n    \n    const [name, setName] = useState(\"\"),\n          [description, setDiscription] = useState(\"\"),\n          [category, setCategory] = useState(\"\"),\n          [gender, setGender] = useState(\"\"),\n          [price, setPrice] = useState(\"\"),\n          [images, setImages] = useState([])\n          [sizes, setSizes] = useState([]);\n\n    const InputName = useCallback((event) => {\n        setName(event.target.value)\n    },[setName]);\n\n    const InputDiscription = useCallback((event) => {\n        setDiscription(event.target.value)\n    },[setDiscription]);\n\n    const InputPrice = useCallback((event) => {\n        setPrice(event.target.value)\n    },[setPrice]);\n\n    const categoies = [\n        {id:\"tops\", name:\"トップス\"},\n        {id:\"shirt\", name:\"シャツ\"},\n        {id:\"pants\", name:\"パンツ\"}\n    ];\n\n    const genders = [\n        {id:\"all\", name:\"すべて\"},\n        {id:\"male\", name:\"メンズ\"},\n        {id:\"female\", name:\"レディース\"}\n    ];\n\n    useEffect(() => {\n       if(id !== \"\"){\n           db.collection('products').doc(id).get()\n                .then(snapshot => {\n                    const data = snapshot.data();\n                    setImages(data.images);\n                    setName(data.name);\n                    setDiscription(data.discription);\n                    setCategory(data.category);\n                    setGender(data.gender);\n                    setPrice(data.price);\n                })\n       } \n    },[id]);\n\n    return(\n        <section>\n            <h2 className=\"u-text__headline u-text-center\">商品の登録と編集</h2>\n            <div className=\"c-section-container\">\n                <ImageArea images={images} setImages={setImages} />\n                <TextInput\n                    fullWidth={true} label={\"商品名\"} multiline={false} required={true}\n                    rows={1} value={name} type={\"text\"} onChange={InputName}\n                />\n                <TextInput\n                    fullWidth={true} label={\"商品説明\"} multiline={true} required={true}\n                    rows={5} value={description} type={\"text\"} onChange={InputDiscription}\n                />\n                <SelectBox\n                    label={\"カテゴリー\"} required={true} options={categoies} select={setCategory} value={category}\n                />\n                <SelectBox\n                    label={\"性別\"} required={true} options={genders} select={setGender} value={gender}\n                />\n                <TextInput\n                    fullWidth={true} label={\"価格\"} multiline={false} required={true}\n                    rows={1} value={price} type={\"number\"} onChange={InputPrice}\n                />\n                <div className=\"module-spacer--small\" />\n                <SetSizeArea sizes={sizes} />\n                <div className=\"module-spacer--small\" />\n                <div className=\"center\">\n                    <PrimaryButton\n                        label={\"商品情報を保存\"} onClick={() => dispatch(saveProduct(id, name, description, category, gender, price, images))}\n                    />\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default ProductEdit;"]},"metadata":{},"sourceType":"module"}