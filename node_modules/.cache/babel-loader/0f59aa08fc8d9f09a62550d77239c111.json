{"ast":null,"code":"var _jsxFileName = \"/Users/yamazakikouji/Desktop/ec-app/src/components/Header/ClosableDrawer.jsx\";\nimport React, { useCallback, useState, useEffect } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport HistoryIcon from '@material-ui/icons/History';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { TextInput } from '../UIkit/index';\nimport { useDispatch } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport { signOut } from '../../redux/users/operations';\nimport { fetchKeyword } from '../../redux/products/operations';\nimport { db } from '../../firebase/index';\nconst useStyles = makeStyles(theme => ({\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      flexShrink: 0,\n      width: 256\n    }\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: 256\n  },\n  searchField: {\n    alignItems: 'center',\n    display: 'flex',\n    marginLeft: 32\n  }\n}));\n\nconst ClosableDrawer = props => {\n  const classes = useStyles();\n  const {\n    container\n  } = props;\n  const dispatch = useDispatch();\n  const [keyword, setKeyword] = useState(\"\");\n  const inputKeyword = useCallback(event => {\n    setKeyword(event.target.value);\n  }, [setKeyword]);\n\n  const selectMenu = (event, path) => {\n    dispatch(push(path));\n    props.onClose(event);\n  };\n\n  const [filters, setFilters] = useState([{\n    func: selectMenu,\n    label: \"すべて\",\n    id: 'all',\n    value: \"/ec-app/\"\n  }, {\n    func: selectMenu,\n    label: \"メンズ\",\n    id: 'male',\n    value: \"/ec-app/?gender=male\"\n  }, {\n    func: selectMenu,\n    label: \"レディース\",\n    id: 'female',\n    value: \"/ec-app?gender=female\"\n  }]);\n  const menus = [{\n    func: selectMenu,\n    label: \"商品登録\",\n    icon: /*#__PURE__*/React.createElement(AddCircleIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 49\n      }\n    }),\n    id: \"register\",\n    value: \"/product/edit\"\n  }, {\n    func: selectMenu,\n    label: \"注文履歴\",\n    icon: /*#__PURE__*/React.createElement(HistoryIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 49\n      }\n    }),\n    id: \"history\",\n    value: \"/order/history\"\n  }, {\n    func: selectMenu,\n    label: \"プロフィール\",\n    icon: /*#__PURE__*/React.createElement(PersonIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 51\n      }\n    }),\n    id: \"profile\",\n    value: \"/user/mypage\"\n  }];\n  useEffect(() => {\n    db.collection('categories').orderBy('order', \"asc\").get().then(snapshots => {\n      const list = [];\n      snapshots.forEach(snapshot => {\n        const category = snapshot.data();\n        list.push({\n          func: selectMenu,\n          label: category.name,\n          id: category.id,\n          value: `/?category=${category.id}`\n        });\n      });\n      setFilters(prevState => [...prevState, ...list]);\n    });\n  }, []);\n  useEffect(() => {\n    dispatch(fetchKeyword(keyword));\n  }, [keyword]);\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: classes.drawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    container: container,\n    variant: \"temporary\",\n    anchor: \"right\",\n    open: props.open,\n    onClose: e => {\n      props.onClose(e);\n    },\n    classes: {\n      paper: classes.drawerPaper\n    },\n    ModalProps: {\n      keepMounted: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClose: e => props.onClose(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.searchField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, {\n    fullWidth: false,\n    label: \"キーワード入力\",\n    multiline: false,\n    onChange: inputKeyword,\n    required: false,\n    rows: 1,\n    value: keyword,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => dispatch(push('/')),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, menus.map(menu => /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: menu.id,\n    onClick: e => menu.func(e, menu.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }, menu.icon), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: menu.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: \"logout\",\n    onClick: () => dispatch(signOut()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ExitToAppIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, filters.map(filter => /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: filter.id,\n    onClick: e => filter.func(e, filter.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    primary: filter.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  })))))));\n};\n\nexport default ClosableDrawer;","map":{"version":3,"sources":["/Users/yamazakikouji/Desktop/ec-app/src/components/Header/ClosableDrawer.jsx"],"names":["React","useCallback","useState","useEffect","Divider","Drawer","List","ListItem","ListItemIcon","ListItemText","makeStyles","IconButton","SearchIcon","AddCircleIcon","HistoryIcon","PersonIcon","ExitToAppIcon","TextInput","useDispatch","push","signOut","fetchKeyword","db","useStyles","theme","drawer","breakpoints","up","flexShrink","width","toolbar","mixins","drawerPaper","searchField","alignItems","display","marginLeft","ClosableDrawer","props","classes","container","dispatch","keyword","setKeyword","inputKeyword","event","target","value","selectMenu","path","onClose","filters","setFilters","func","label","id","menus","icon","collection","orderBy","get","then","snapshots","list","forEach","snapshot","category","data","name","prevState","open","e","paper","keepMounted","map","menu","filter"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport HistoryIcon from '@material-ui/icons/History';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { TextInput } from '../UIkit/index';\nimport { useDispatch } from 'react-redux';\nimport { push } from 'connected-react-router';\nimport { signOut } from '../../redux/users/operations';\nimport { fetchKeyword } from '../../redux/products/operations';\nimport { db } from '../../firebase/index';\n\nconst useStyles = makeStyles((theme) => ({\n    drawer: {\n        [theme.breakpoints.up('sm')]: {\n            flexShrink: 0,\n            width: 256,\n        }\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n        width: 256\n    },\n    searchField: {\n        alignItems: 'center',\n        display: 'flex',\n        marginLeft: 32\n    }\n}))\n\n\nconst ClosableDrawer = (props) => {\n    const classes = useStyles();\n    const {container} = props;\n    const dispatch = useDispatch();\n\n    const [keyword, setKeyword] = useState(\"\");\n\n    const inputKeyword = useCallback((event) => {\n        setKeyword(event.target.value)\n    },[setKeyword])\n\n    const selectMenu = (event, path) => {\n        dispatch(push(path))\n        props.onClose(event)\n    };\n\n    const [filters, setFilters] = useState([\n        {func: selectMenu, label: \"すべて\", id: 'all', value: \"/ec-app/\"},\n        {func: selectMenu, label: \"メンズ\", id: 'male', value: \"/ec-app/?gender=male\"},\n        {func: selectMenu, label: \"レディース\", id: 'female', value: \"/ec-app?gender=female\"},\n    ])\n\n    const menus = [\n        {func: selectMenu, label: \"商品登録\",　icon: <AddCircleIcon />, id: \"register\", value: \"/product/edit\"},\n        {func: selectMenu, label: \"注文履歴\",　icon: <HistoryIcon />, id: \"history\", value: \"/order/history\"},\n        {func: selectMenu, label: \"プロフィール\",　icon: <PersonIcon />, id: \"profile\", value: \"/user/mypage\"},\n    ];\n\n    useEffect(() => {\n        db.collection('categories').orderBy('order', \"asc\").get()\n            .then(snapshots => {\n                const list = [];\n                snapshots.forEach(snapshot => {\n                    const category = snapshot.data();\n                    list.push(\n                        {func: selectMenu, label: category.name, id: category.id, value: `/?category=${category.id}`},\n                    )\n                })\n                setFilters(prevState => [...prevState, ...list]);\n            })\n    },[])\n\n    useEffect(() => {\n        dispatch(fetchKeyword(keyword))\n    },[keyword])\n\n    return(\n        <nav className={classes.drawer}>\n            <Drawer\n                container={container}\n                variant=\"temporary\"\n                anchor=\"right\"\n                open={props.open}\n                onClose={(e) => {props.onClose(e)}}\n                classes={{paper: classes.drawerPaper}}\n                ModalProps={{keepMounted: true}}\n            >\n                <div onClose={(e) => props.onClose(e)}>\n                    <div className={classes.searchField}>\n                        <TextInput\n                            fullWidth={false} label={\"キーワード入力\"} multiline={false}\n                            onChange={inputKeyword} required={false} rows={1} value={keyword} type={\"text\"}\n                        />\n                        <IconButton onClick={() => dispatch(push('/'))} >\n                            <SearchIcon />\n                        </IconButton>\n                    </div>\n                    <Divider />\n                    <List>\n                        {menus.map((menu) => (\n                            <ListItem button key={menu.id} onClick={(e) => menu.func(e, menu.value)}>\n                                <ListItemIcon>\n                                    {menu.icon}\n                                </ListItemIcon>\n                                <ListItemText primary={menu.label} />\n                            </ListItem>\n                        ))}\n                        <ListItem button key=\"logout\" onClick={() => dispatch(signOut())}>\n                            <ListItemIcon>\n                                <ExitToAppIcon />\n                            </ListItemIcon>\n                            <ListItemText primary={\"Logout\"} />\n                        </ListItem>\n                    </List>\n                    <Divider />\n                    <List>\n                        {filters.map(filter => (\n                            <ListItem button key={filter.id} onClick={(e) => filter.func(e, filter.value)}>\n                                <ListItemText primary={filter.label} />\n                            </ListItem>\n                        ))}\n                    </List>\n                </div>\n            </Drawer>\n        </nav>\n    )\n}\n\nexport default ClosableDrawer;"]},"metadata":{},"sourceType":"module"}